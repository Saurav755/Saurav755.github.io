(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86990],{86990:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return s}});var t=r(15276),u=r(16770),i=r.n(u),o=r(33616);function c(e){var n=e.video,r=e.mouseOver,t=e.disabled,u=(0,o.useState)(!1),i=u[0],c=u[1];return(0,o.useEffect)((function(){var e;r||t||(null===(e=n.current)||void 0===e||e.pause(),c(!1))}),[r,t,n]),function(e,n){var r=(0,o.useRef)(!1),t=(0,o.useRef)(null);(0,o.useEffect)((function(){t.current=e}),[e]),(0,o.useEffect)((function(){if(null===n)return function(){};var e;if(r.current)return null===(e=t.current)||void 0===e||e.call(t),function(){};var u=setTimeout((function(){var e;null===(e=t.current)||void 0===e||e.call(t),r.current=!0}),n);return function(){clearInterval(u)}}),[n])}((function(){var e,r,t;c(!0),null===(e=n.current)||void 0===e||null===(r=e.play())||void 0===r||null===(t=r.then((function(){c(!0)})))||void 0===t||t.catch((function(){c(!1)}))}),r&&!t?1e3:null),i}var l=r(23097);function s(e){var n=e.mouseOver,r=e.autoPlay,u=e.video,s=e.style,a=e.setIsPlaying,v="string"===typeof u?u:u.attributes.video.preview_src,d=(0,t.Z)({threshold:.2}),f=d.ref,p=d.isIntersecting;!function(e){(0,o.useEffect)((function(){var n=e.current,r=function(){if(n&&!(n.readyState>=n.HAVE_FUTURE_DATA)){var e=n.querySelector("source"),r=null===e||void 0===e?void 0:e.src,t=null===n||void 0===n?void 0:n.currentTime;e&&(e.src="",n.load(),r&&(e.src=r),n.currentTime=t)}};return null===n||void 0===n||n.addEventListener("pause",r),function(){null===n||void 0===n||n.removeEventListener("pause",r)}}),[e])}(f);var E=c({video:f,mouseOver:n,disabled:!!r});return function(e){var n,r,t=e.video,u=e.isIntersecting;e.disabled||(u?null===(n=t.current)||void 0===n||n.play().catch((function(){})):null===(r=t.current)||void 0===r||r.pause())}({video:f,isIntersecting:p,disabled:!r}),(0,o.useEffect)((function(){a&&a(E)}),[E,a]),(0,l.jsx)("video",{ref:f,preload:"none",loop:!0,muted:!0,className:i().video,playsInline:!0,style:s,children:(0,l.jsx)("source",{src:v,type:"video/mp4"})})}},16770:function(e){e.exports={video:"VideoTag_video__OEc5l"}}}]);